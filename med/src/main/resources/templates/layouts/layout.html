<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<!--/* Head takes 3 arguments that are fragments */-->
<head>

<!--/*  Title will be replaced by their respective titles in the calling template. */-->
<title>Task List</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" th:href="@{/resources/css/core.css}">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
	integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	crossorigin="anonymous"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
	integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
	crossorigin="anonymous"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous"></script>
<script>
	$(function() {
		$("#logout").click(function() {
			$('#logoutForm').submit();
		})
	})
</script>
</head>
<body>
	<!--/* Header fragment */-->
	<!--/* The value passed from calling template will be inserted in this element */-->
	<div class="container" sec:authorize="isAuthenticated()">
		<nav class="navbar navbar-inverse" role="navigation"
			style="margin-bottom: 50px;">
			<div class="container-fluid">

				<div class="nav-item dropdown" sec:authorize="hasAuthority('ADMIN')">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
						role="button" data-toggle="dropdown" aria-haspopup="true"
						aria-expanded="false"> Admin </a>
					<div class="dropdown-menu">
						<a th:href="@{/tm/uploadList/}" class="nav-link">Data Import</a> <a
							th:href="@{/tm/retreatList/}" class="nav-link">Retreat/Checkout</a>
					</div>
				</div>

				<div class="nav-item dropdown"
					sec:authorize="hasAuthority('FACULTY')">
					<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#"
						role="button" aria-haspopup="true" aria-expanded="false">Faculty</a>
					<div class="dropdown-menu"></div>
				</div>
				<div class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#"
						role="button" aria-haspopup="true" aria-expanded="false">Student</a>
					<div class="dropdown-menu"></div>
				</div>
				<div class="navbar-header navbar-right">
					<a href="#" class="nav-link navbar-link" style="display: inline"
						id="logout">Logout</a> Welcome: <span sec:authentication="name"></span>
					<form style="display: none" name="logoutForm" id="logoutForm"
						action="#" th:action="@{/logout}" method="post">
						<input type="hidden" th:name="${_csrf.parameterName}"
							th:value="${_csrf.token}" /> <input type="submit" value="Logout" />
					</form>
				</div>

			</div>
		</nav>
	</div>

	<div class="container" layout:fragment="app-content"></div>
</body>
</html>